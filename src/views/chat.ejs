<%- layout('layouts/layout.ejs') %>
<div class="container-fluid">
    <!-- Centered chat box -->
    <div class="row">
        <div class="col-md-4 offset-md-3">
            <div class="card border-dark" style="height: 480px; width: 640px">
                <div class="card-header border-0">
                    <% if(user){ %>
                    <p>Logged in as <strong id="username"><%- user.username %></strong></p>
                    <% } %>
                </div>
                <div class="card-body d-flex align-items-start flex-column">
                    <div class="mb-auto" id="chat-box">
                    </div>
                    <small class="card-text" id="user-typing"></small>
                </div>
                <div class="d-flex" id="chat-input-block">
                    <input class="form-control border-0 text-dark flex-grow-1 bg-light" id="text-input" type="text"
                        placeholder="Type message" autofocus>
                    <button type="button" class="btn btn-primary" id="send-button">Send</button>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Chat functions -->
<script src="/socket.io/socket.io.js"></script>
<script src="/scripts/chat.js"></script>